<ng-container>
  <section class="organism-details" fxLayout fxLayoutAlign="center">
    <mat-card fxFlex.xs="100%" fxFlex="400px">
      <mat-card-title fxLayoutAlign="center"><b>Organism: </b>{{ id }}</mat-card-title>
      <mat-card-content fxLayoutAlign="center">


        <p *ngIf="checkExistence('alternative_id')">
          <b>Alternative id: </b> {{ data['alternative_id'] }}
        </p>
        <p *ngIf="checkExistence('submission_title')">
          <b>Submission title: </b> {{ data['submission_title'] }}
        </p>
        <p *ngIf="checkExistence('material')">
          <b>Material: </b> <a href="{{generateLink(data['material_ontology'])}}">{{ data['material'] }}</a>
        </p>
        <p *ngIf="checkExistence('person_last_name')">
          <b>Person last name: </b> {{ convertArrayToStr(data['person_last_name']) }}
        </p>
        <p *ngIf="checkExistence('person_email')">
          <b>Person email: </b>
          <a href="{{email}}" *ngFor="let email of data['person_email']">
            {{formatEmailStr(email)}}
          </a>
        </p>
        <p *ngIf="checkExistence('person_affiliation')">
          <b>Person affiliation: </b> {{ convertArrayToStr(data['person_affiliation']) }}
        </p>
        <p *ngIf="checkExistence('person_role')">
          <b>Person role: </b>
          <a href="{{generateLink(role['ontology'])}}" *ngFor="let role of getOntologyField('person_role')">
            {{ role['text'] }}</a>
        </p>
        <p *ngIf="checkExistence('organization_name')">
          <b>Organization name: </b> {{ convertArrayToStr(data['organization_name']) }}
        </p>
        <p *ngIf="checkExistence('organization_role')">
          <b>Organization role: </b>
          <a href="{{generateLink(role['ontology'])}}" *ngFor="let role of getOntologyField('organization_role')">
            {{ role['text'] }}</a>
        </p>
        <p *ngIf="checkExistence('gene_bank_name')">
          <b>Gene bank name: </b> {{ data['gene_bank_name'] }}
        </p>
        <p *ngIf="checkExistence('gene_bank_country')">
          <ng-container *ngIf="countryInEugena(data['gene_bank_country'])">
            <b>Gene bank country: </b> <a href="{{countries[data['gene_bank_country']]}}">{{ data['gene_bank_country'] }}</a>
          </ng-container>
          <ng-container *ngIf="!countryInEugena(data['gene_bank_country'])">
            <b>Gene bank country: </b> <a href="{{generateLink(data['gene_bank_country_ontology'])}}">{{ data['gene_bank_country'] }}</a>
          </ng-container>
        </p>
        <p *ngIf="checkExistence('data_source_type')">
          <b>Data source version: </b> {{ data['data_source_type'] }}
        </p>
        <p *ngIf="checkExistence('data_source_version')">
          <b>Data source version: </b> {{ data['data_source_version'] }}
        </p>
        <p *ngIf="checkExistence('species')">
          <b>Species: </b> <a href="{{generateLink(data['species_ontology'])}}">{{ data['species'] }}</a>
        </p>
        <mat-divider [inset]="true"></mat-divider>


        <p *ngIf="checkExistence('submission_description')">
          <b>Submission description: </b> {{ data['submission_description'] }}
        </p>
        <p *ngIf="checkExistence('person_first_name')">
          <b>Person first name: </b> {{ convertArrayToStr(data['person_first_name']) }}
        </p>
        <p *ngIf="checkExistence('organization_address')">
          <b>Organization address: </b> {{ convertArrayToStr(data['organization_address']) }}
        </p>
        <p *ngIf="checkExistence('organization_country')">
          <b>Organization country: </b>
          <a href="{{generateLink(country['ontology'])}}" *ngFor="let country of getOntologyField('organization_country')">
            {{ country['text'] }}</a>
        </p>

        <p *ngIf="checkExistence('description')">
          <b>Description: </b> {{ data['description'] }}
        </p>
        <p *ngIf="checkExistence('person_initial')">
          <b>Person initial: </b> {{ convertArrayToStr(data['person_initial']) }}
        </p>
        <p *ngIf="checkExistence('organization_uri')">
          <b>Organization uri: </b> {{ convertArrayToStr(data['organization_uri']) }}
        </p>
        <p *ngIf="checkExistence('publication_doi')">
          <b>Publication DOI: </b> {{ data['publication_doi'] }}
        </p>

        <mat-divider [inset]="true"></mat-divider>

        <p *ngIf="checkExistence('supplied_breed')">
          <ng-container *ngIf="data['dadis'] !== null else noDadis">
            <b>Supplied breed: </b>
            <a href="{{ getDADisLink(data['dadis']) }}" target="_blank">
              {{ data['supplied_breed'] }}
            </a>
          </ng-container>
          <ng-container>
            <ng-template #noDadis>
              <b>Supplied breed: </b> {{ data['supplied_breed'] }}
            </ng-template>
        </ng-container>
        </p>
        <p *ngIf="checkExistence('efabis_breed_country')">
          <b>EFABIS Breed country: </b> {{ data['efabis_breed_country'] }}
        </p>
        <p *ngIf="checkExistence('sex')">
          <b>Sex: </b> <a href="{{generateLink(data['sex_ontology'])}}">{{ data['sex'] }}</a>
        </p>
        <p *ngIf="checkExistence('birth_location_accuracy')">
          <b>Birth location accuracy: </b> {{ data['birth_location_accuracy'] }}
        </p>

        <p *ngIf="checkExistence('mapped_breed')">
          <b>Mapped breed: </b> <a href="{{generateLink(data['mapped_breed_ontology'])}}">{{ data['mapped_breed'] }}</a>
        </p>
        <p *ngIf="checkExistence('birth_location')">
          <b>Birth location: </b> {{ data['birth_location'] }}
        </p>

        <p *ngIf="checkExistence('birth_date')">
          <b>Birth date: </b> {{data['birth_date']}} {{data['birth_date_unit']}}
        </p>

        <p *ngIf="checkExistence('birth_location_longitude')">
          <b>Birth location longitude: </b> {{ data['birth_location_longitude'] }}
          {{ data['birth_location_longitude_unit'] }}
        </p>
        <p *ngIf="checkExistence('birth_location_latitude')">
          <b>Birth location latitude: </b> {{ data['birth_location_latitude'] }}
          {{ data['birth_location_latitude_unit'] }}
        </p>
        <div id="map" class="map"></div>
        <p></p>


        <p *ngIf="checkExistence('specimens')">
          <b>Specimens: </b>
          <a [routerLink]="['../../', 'specimen', specimen]" *ngFor="let specimen of data['specimens']">{{specimen}} </a>
        </p>
      </mat-card-content>
    </mat-card>
  </section>
</ng-container>
